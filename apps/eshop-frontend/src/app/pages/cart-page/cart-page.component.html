<nav aria-label="Breadcrumb" class="flex m-5">
  <ol
    role="list"
    class="flex overflow-hidden rounded-lg border border-primary-color"
  >
    <li class="flex items-center">
      <a
        routerLink="/products"
        class="flex h-10 items-center bg-secondary-color px-4 transition"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
          />
        </svg>

        <span class="ml-1.5 text-xs font-medium"> Products </span>
      </a>
    </li>

    <li class="relative flex items-center">
      <span
        class="absolute inset-y-0 -left-px h-10 w-4 bg-primary-color [clip-path:_polygon(0_0,_0%_100%,_100%_50%)]"
      >
      </span>

      <div
        class="flex h-10 items-center bg-white pl-8 pr-4 text-xs font-medium transition hover:text-gray-900"
      >
        Cart
      </div>
    </li>
  </ol>
</nav>

<div class="bg-white py-6 sm:py-8 lg:py-12">
  <div class="max-w-screen-lg px-4 md:px-8 mx-auto">
    <div class="mb-6 sm:mb-10 lg:mb-16">
      <h2
        *ngIf="cartCount !== 0"
        class="text-gray-800 text-2xl lg:text-3xl font-bold text-center mb-4 md:mb-6"
      >
        My Cart: {{ cartCount }} item(s)
      </h2>
    </div>

    <div class="flex flex-col gap-4 md:gap-6 mb-6 sm:mb-8">
      <!-- product - start -->
      <div
        *ngFor="let cartItem of cartItemsDetailed"
        class="flex flex-wrap border border-secondary-color rounded-lg overflow-hidden gap-x-4 sm:gap-y-4 lg:gap-6"
      >
        <div
          class="group w-32 sm:w-40 h-48 sm:h-56 block bg-gray-100 overflow-hidden relative"
        >
          <img
            [src]="cartItem.product.image"
            loading="lazy"
            [attr.alt]="cartItem.product.name"
            class="w-full h-full object-cover object-center group-hover:scale-110 transition duration-200"
          />
        </div>

        <div class="flex flex-col justify-between flex-1 py-4">
          <div>
            <a
              href="#"
              class="inline-block text-gray-800 hover:text-gray-500 text-lg lg:text-xl font-bold transition duration-100 mb-1"
              >{{ cartItem.product.name }}</a
            >

            <span class="block text-gray-500">{{
              cartItem.product.category.name
            }}</span>
          </div>

          <div>
            <span class="block text-gray-800 md:text-lg font-bold mb-1">
              GHâ‚µ {{ cartItem.product.price }}</span
            >

            <span class="flex items-center text-gray-500 text-sm gap-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5 text-green-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                />
              </svg>

              In stock
            </span>
          </div>
        </div>

        <div
          class="w-full sm:w-auto flex justify-between border-t sm:border-none p-4 sm:pl-0 lg:p-6 lg:pl-0"
        >
          <div class="flex flex-col items-start gap-2">
            <div
              class="w-20 h-12 flex border border-primary-color rounded overflow-hidden"
            >
              <input
                value="1"
                (input)="updateCartItemQuantity($event)"
                [(ngModel)]="cartItem.quantity"
                class="w-full outline-none transition duration-100 px-4 py-3"
              />

              <div class="flex flex-col border-l divide-y">
                <button
                  class="w-6 flex justify-center items-center flex-1 bg-white hover:bg-gray-100 active:bg-gray-200 leading-none select-none transition duration-100"
                >
                  +
                </button>
                <button
                  class="w-6 flex justify-center items-center flex-1 bg-white hover:bg-gray-100 active:bg-gray-200 leading-none select-none transition duration-100"
                >
                  -
                </button>
              </div>
            </div>

            <button
              (click)="deleteCartItem(cartItem)"
              class="text-indigo-500 hover:text-indigo-600 active:text-indigo-700 text-sm font-semibold select-none transition duration-100"
            >
              Delete
            </button>
          </div>

          <div class="pt-3 md:pt-2 ml-4 md:ml-8 lg:ml-16">
            <span class="block text-gray-800 md:text-lg font-bold">{{
              cartItem.product.price * cartItem.quantity
            }}</span>
          </div>
        </div>
      </div>
      <!-- product - end -->
      <div
        class="flex items-center justify-center gap-3"
        *ngIf="cartCount === 0"
      >
        <img src="/assets/images/nothing.svg" class="w-1/3" alt="" />
        <h2 class="font-bold text-2xl md:text-3xl text-gray-500">
          NO items in Cart!
        </h2>
      </div>
    </div>

    <!-- totals - start -->
    <eshop-order-summary *ngIf="cartCount !== 0"></eshop-order-summary>
    <!-- totals - end -->
  </div>
</div>
